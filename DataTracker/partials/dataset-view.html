<div class="right" ng-show="activities">
    <img ng-click="previousActivity()" title="Previous Activity" class="nav-buttons" src="images/icon-prev.png"/>
    <span>&nbsp;</span>
    <img ng-click="nextActivity()" title="Next Activity" class="nav-buttons" src="images/icon-next.png"/>
</div>
<ul class="breadcrumb">
    <li><a href="#/projects">Projects</a> <span class="divider"></span> </li>
    <li><a href="#/projects/{{project.Id}}">{{project.Name}}</a> <span class="divider"></span></li>
    <li><a href="#/activities/{{dataset.Id}}">{{dataset.Name}} Activities</a> <span class="divider"></span></li>
    
    <li class="active">Activity Detail for {{grid.Header.Activity.ActivityDate | date: 'MM/dd/yyyy'}}</li>
</ul>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span6" style="min-height: 300px;">

            <ng-include src="'partials/graphs/view-inset-' + dataset.Datastore.TablePrefix + '.html'"></ng-include>

            <div class="header-box">
                <div class="header-label">Location:</div>
                <div class="header-value">{{grid.Header.Activity.Location.Label}}&nbsp;</div>

                <div class="header-label">Activity Date:</div>
                <div class="header-value">{{grid.Header.Activity.ActivityDate | date: 'MM/dd/yyyy'}}&nbsp;</div>            

                <div ng-repeat="field in headerFields">
                <div class="header-column">
                    <div class="header-label">{{field.Label}}:</div>
                    <div class="header-value">{{grid.Header[field.DbColumnName]}}&nbsp;</div>
                </div>
                </div>

                <div class="header-label">QA Status:</div>
                <div class="header-value" ng-show="grid.Header.Activity.ActivityQAStatus">{{grid.Header.Activity.ActivityQAStatus.QAStatus.Name}} ({{grid.Header.Activity.ActivityQAStatus.User.Fullname}}) <button project-role="editor" class="btn btn-xs" ng-click="changeQa()">Change</button>
                <div class="alert alert-danger" ng-show="QaSaveResults.failure">Failed to update.</div>
                </div>            

                <div class="header-label">QA Comment:</div>
                <div class="header-value">{{grid.Header.Activity.ActivityQAStatus.Comments}}</div>            

            
            </div>
            
            <hr/>
            <div class="gridStyle" ng-grid="gridDatasheetOptions" ng-style="gridWidth" ng-show="!query.loading">
            </div>
            Total Records: {{grid.Details.length}} <img ng-show="query.loading" src="images/FishLoading.gif"/></div>           
            <button project-role="editor" class="btn" ng-click="openEdit()">Edit</button>

        </div>
    </div>
</div>

